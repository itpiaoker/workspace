{"version":3,"sources":["controllers/knowledgeinfo.js"],"names":["app","controller","$scope","$rootScope","$location","Util","Knowledge","KnowledgeInfo","Modeling","$path","path","bind","encodings","$confirmModal","$","knowledges","queryByStatus","map","knowledge","push","modelings","queryByType","type","modeling","tableTheads","reload","list","get","page","pages","result","length","knowledgeinfo","key","$search_table","slideToggle"],"mappings":"AAAA;;;AAGA;;AACAA,IAAIC,WAAW,mHAA2B,UAAUC,QAAQC,YAAYC,WAAWC,MAAKC,WAAUC,eAAcC,UAAU;IACtHL,WAAWM,QAAQL,UAAUM,KAAKC,KAAKP;IACvCF,OAAOU,YAAY,CAAC,SAAS,OAAO,WAAW,UAAU,QAAQ,WAAW,SAAS;IACrF,IAAMC,gBAAgBC,EAAE;;IAExBZ,OAAOa,aAAa;;;IAGnBT,UAAUU,cAAc,UAAUD,YAAW;QAC1CA,WAAWE,IAAI,UAAUC,WAAW;YAChChB,OAAOa,WAAWI,KAAKD;;;;IAI/BhB,OAAOkB,YAAYZ,SAASa,YAAY,EAACC,MAAM,WAAS,UAAUF,WAAW;QACzEA,UAAUH,IAAI,UAAUM,UAAU;YAC9BrB,OAAOa,WAAWI,KAAKI;;;IAG/BrB,OAAOsB,cAAa;IACpBtB,OAAOuB,SAAS,YAAY;QACxBvB,OAAOsB,cAAa;QACpBtB,OAAOwB,OAAQnB,cAAcoB,IAAIzB,OAAO0B,MAAM,UAAUC,OAAO;YAC3D,IAAIA,MAAMC,OAAOC,SAAS,GAAI;gBAC1BF,MAAMC,SAASD,MAAMC,OAAOb,IAAI,UAAUe,eAAe;;oBAEtD,OAAOA;;gBAEV,KAAI,IAAIC,OAAOJ,MAAMC,OAAO,IAAG;oBAC3B5B,OAAOsB,YAAYL,KAAKc;;gBAE5B/B,OAAO0B,KAAK,WAAW1B,OAAOwB,KAAK;gBACnCxB,OAAO0B,KAAK,WAAW1B,OAAOwB,KAAK;gBACnCxB,OAAO0B,KAAK,WAAW1B,OAAOwB,KAAK;mBAChC;gBACHG,MAAMC,SAAS;;;;IAI3B,IAAII,gBAAgBpB,EAAE;IACtBoB,cAAcC;IAxClB","file":"knowledgeinfo.js","sourcesContent":["/**\r\n * Created by liyju on 2017/11/22.\r\n */\r\n'use strict';\r\napp.controller('KnowledgeInfoController', function ($scope, $rootScope, $location, Util,Knowledge,KnowledgeInfo,Modeling) {\r\n    $rootScope.$path = $location.path.bind($location);\r\n    $scope.encodings = ['UTF-8', 'GBK', 'GB18030', 'GB2312', 'BIG5', 'UNICODE', 'ASCII', 'ISO-8859-1'];\r\n    const $confirmModal = $('#confirmModal');\r\n\r\n    $scope.knowledges = []\r\n\r\n    //知识库列表\r\n     Knowledge.queryByStatus(function (knowledges){\r\n        knowledges.map(function (knowledge) {\r\n            $scope.knowledges.push(knowledge)\r\n        })\r\n    });\r\n    //离线模型列表\r\n    $scope.modelings = Modeling.queryByType({type: 'model'},function (modelings ){\r\n        modelings.map(function (modeling) {\r\n            $scope.knowledges.push(modeling)\r\n        })\r\n    });\r\n    $scope.tableTheads= []\r\n    $scope.reload = function () {\r\n        $scope.tableTheads= []\r\n        $scope.list =  KnowledgeInfo.get($scope.page, function (pages) {\r\n            if( pages.result.length > 0 ) {\r\n                pages.result = pages.result.map(function (knowledgeinfo) {\r\n                    //console.log(knowledgeinfo)\r\n                   return knowledgeinfo;\r\n                });\r\n                for(var key in pages.result[0]){\r\n                    $scope.tableTheads.push(key)\r\n                }\r\n                $scope.page['count'] = $scope.list['totalCount'];\r\n                $scope.page['limit'] = $scope.list['limit'];\r\n                $scope.page['total'] = $scope.list['totalPage'];\r\n            } else {\r\n                pages.result = [];\r\n            }\r\n        });\r\n    };\r\n    let $search_table = $('.hla-widget-search-table');\r\n    $search_table.slideToggle();\r\n})"]}