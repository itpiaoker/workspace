{"version":3,"sources":["controllers/dictionary.js"],"names":["app","controller","$scope","$rootScope","$location","$routeParams","Dictionary","Util","$path","path","bind","reload","list","get","page","dictionary","name","key","properties","add","$","slideToggle","slideUp","resetForm","addProperty","property","push","value","vtype","deleteProperty","index","add_dictionary","formValid","save","search","searchDictionary","searchDictionaryForm","edit","id","slideDown","removeHostEncoding","splice","delete","delete_id","modal","confirm_yes","off","click","addDicForm","angular","copy","resetFormValidateState","add_dic_form"],"mappings":"AAAA;;AAEAA,IAAIC,WAAW,oGAAwB,UAAUC,QAAQC,YAAYC,WAAWC,cAAcC,YAAYC,MAAM;;IAE5GJ,WAAWK,QAAQJ,UAAUK,KAAKC,KAAKN;IACvCF,OAAOS,SAAS,YAAY;QACxBT,OAAOU,OAAON,WAAWO,IAAIX,OAAOY;;;IAGxCZ,OAAOa,aAAa,EAACC,MAAM,IAAIC,KAAK,IAAIC,YAAY;;;;IAIpDhB,OAAOiB,MAAM,YAAY;QACrBC,EAAE,yBAAyBC;QAC3BD,EAAE,4BAA4BE;QAC9BpB,OAAOa,aAAa,EAACG,YAAY;QACjChB,OAAOqB;;;IAGXrB,OAAOsB,cAAc,UAAUC,UAAU;QACrCvB,OAAOa,WAAWG,WAAWQ,KAAK;YAC9BT,KAAK;YACLU,OAAO;YACPC,OAAO;;;;IAIf1B,OAAO2B,iBAAiB,UAAUC,OAAO;QACrC,OAAO5B,OAAOa,WAAWG,WAAWY;;IAExC5B,OAAO6B,iBAAiB,UAAUC,WAAW;QACzC1B,WAAW2B,KAAK/B,OAAOa,YAAY,YAAY;YAC3Cb,OAAOS;;QAEXS,EAAE,yBAAyBE;;;IAG/BpB,OAAOgC,SAAS,YAAY;QACxBd,EAAE,yBAAyBE;QAC3BF,EAAE,4BAA4BC;QAC9BnB,OAAOa,aAAa,EAACG,YAAY;;;IAGrChB,OAAOiC,mBAAmB,YAAY;QAClCjC,OAAOY,KAAKoB,SAAShC,OAAOkC;QAC5BlC,OAAOS;;;IAGXT,OAAOmC,OAAO,UAAUC,IAAI;QACxBpC,OAAOa,aAAaT,WAAWO,IAAI,EAACyB,IAAIA;QACxClB,EAAE,yBAAyBmB;QAC3BnB,EAAE,4BAA4BE;;;IAGlCpB,OAAOsC,qBAAqB,UAAUV,OAAO;QACzC5B,OAAOa,WAAWG,WAAWuB,OAAOX,OAAO;;;IAG/C5B,OAAOwC,SAAS,UAAUJ,IAAI;QAC1BpC,OAAOyC,YAAYL;QACnBlB,EAAE,iBAAiBwB,MAAM;;;IAG7B1C,OAAO2C,cAAc,YAAY;QAC7BvC,WAAWoC,OAAO,EAACJ,IAAIpC,OAAOyC,aAAY,YAAY;YAClDzC,OAAOS;;QAEXS,EAAE,iBAAiBwB,MAAM;;;IAG7BxB,EAAE,yBAAyB0B,MAAMC,MAAM,YAAY;QAC/C7C,OAAO2C;;;IAGX3C,OAAOqB,YAAY,UAAUI,OAAO;QAChCzB,OAAO8C,aAAaC,QAAQC,KAAKvB,SAAS;QAC1CpB,KAAK4C,uBAAuBjD,OAAOkD;;;IAGvClD,OAAOqB;IA9EX","file":"dictionary.js","sourcesContent":["'use strict';\r\n\r\napp.controller('DictionaryController', function ($scope, $rootScope, $location, $routeParams, Dictionary, Util) {\r\n    //页面目录\r\n    $rootScope.$path = $location.path.bind($location);\r\n    $scope.reload = function () {\r\n        $scope.list = Dictionary.get($scope.page);\r\n    };\r\n\r\n    $scope.dictionary = {name: '', key: '', properties: []};\r\n    //列表功能\r\n\r\n    //添加按钮\r\n    $scope.add = function () {\r\n        $('.hla-widget-add-table').slideToggle();\r\n        $('.hla-widget-search-table').slideUp();\r\n        $scope.dictionary = {properties: []};\r\n        $scope.resetForm();\r\n    };\r\n    //添加资产\r\n    $scope.addProperty = function (property) {\r\n        $scope.dictionary.properties.push({\r\n            key: '',\r\n            value: '',\r\n            vtype: 'String'\r\n\r\n        })\r\n    };\r\n    $scope.deleteProperty = function (index) {\r\n        delete $scope.dictionary.properties[index];\r\n    };\r\n    $scope.add_dictionary = function (formValid) {\r\n        Dictionary.save($scope.dictionary, function () {\r\n            $scope.reload();\r\n        });\r\n        $('.hla-widget-add-table').slideUp();\r\n    };\r\n    //查询按钮\r\n    $scope.search = function () {\r\n        $('.hla-widget-add-table').slideUp();\r\n        $('.hla-widget-search-table').slideToggle();\r\n        $scope.dictionary = {properties: []};\r\n    };\r\n    //搜索按钮\r\n    $scope.searchDictionary = function () {\r\n        $scope.page.search = $scope.searchDictionaryForm;\r\n        $scope.reload();\r\n    };\r\n    //编辑按钮\r\n    $scope.edit = function (id) {\r\n        $scope.dictionary = Dictionary.get({id: id});\r\n        $('.hla-widget-add-table').slideDown();\r\n        $('.hla-widget-search-table').slideUp();\r\n    };\r\n    //减号按钮\r\n    $scope.removeHostEncoding = function (index) {\r\n        $scope.dictionary.properties.splice(index, 1);\r\n    };\r\n    //删除按钮\r\n    $scope.delete = function (id) {\r\n        $scope.delete_id = id;\r\n        $('#confirmModal').modal('show');\r\n    };\r\n    //删除确定\r\n    $scope.confirm_yes = function () {\r\n        Dictionary.delete({id: $scope.delete_id}, function () {\r\n            $scope.reload();\r\n        });\r\n        $('#confirmModal').modal('hide');\r\n    }\r\n    //点击删除modal确定按钮\r\n    $('#confirmModal .op_yes').off().click(function () {\r\n        $scope.confirm_yes();\r\n    });\r\n    //重置表单\r\n    $scope.resetForm = function (value) {\r\n        $scope.addDicForm = angular.copy(value || {});\r\n        Util.resetFormValidateState($scope.add_dic_form);\r\n    };\r\n    //重置添加表单\r\n    $scope.resetForm();\r\n});\r\n"]}