{"version":3,"sources":["services/channel.js"],"names":["app","factory","$resource","download","method","responseType","transformResponse","data","response","headers","operate","url","params","opt","id","timeout","check","isArray","service","resetFormValidateState","form","$submitted","angular","forEach","obj","key","substring","$dirty","$pristine"],"mappings":"AAAA;;AACAA,IAAIC,QAAQ,yBAAW,UAAUC,WAAW;IACxC,OAAOA,UAAU,eAAe,IAAI;QAChCC,UAAU;YACNC,QAAQ;YACRC,cAAc;YACdC,mBAAmB,SAAA,kBAAUC,MAAM;;;gBAG/B,IAAIC,WAAW;gBACfA,SAASD,OAAOA;gBAChBC,SAASC,UAAU;oBACf,uBAAuB;;;gBAG3B,OAAOD;;;QAGfE,SAAS;YACLN,QAAQ;YACRO,KAAK;YACLC,QAAQ;gBACJC,KAAK;gBACLC,IAAI;;YAERC,SAAS;;QAEbC,OAAO;YACHZ,QAAQ;YACRO,KAAK;YACLM,SAAS;YACTF,SAAS;;;;;AAKrBf,IAAIkB,QAAQ,QAAQ,YAAY;;;;;;IAM5B,KAAKC,yBAAyB,UAAUC,MAAM;QAC1C,IAAI,CAACA,MAAM,OAAO;QAClBA,KAAKC,aAAa;QAClBC,QAAQC,QAAQH,MAAM,UAAUI,KAAKC,KAAK;YACtC,IAAIA,IAAIC,UAAU,GAAG,OAAO,OAAON,KAAKK,KAAKE,QAAQ;gBACjDP,KAAKK,KAAKE,SAAS;gBACnBP,KAAKK,KAAKG,YAAY;;;;GAZtC","file":"channel.js","sourcesContent":["'use strict';\r\napp.factory('Channel', function ($resource) {\r\n    return $resource('/config/:id', {}, {\r\n        download: {\r\n            method: 'GET',\r\n            responseType: 'blob',\r\n            transformResponse: function (data) {\r\n//                 console.log(data);\r\n                //MESS WITH THE DATA\r\n                let response = {};\r\n                response.data = data;\r\n                response.headers = {\r\n                    'Content-Disposition': 'attachment'\r\n\r\n                };\r\n                return response;\r\n            }\r\n        },\r\n        operate: {\r\n            method: 'PUT',\r\n            url: '/config/:opt/:id',\r\n            params: {\r\n                opt: '@opt',\r\n                id: '@id'\r\n            },\r\n            timeout: 20000\r\n        },\r\n        check: {\r\n            method: 'POST',\r\n            url: '/usability',\r\n            isArray: true,\r\n            timeout: 20000\r\n        }\r\n\r\n    });\r\n});\r\napp.service('Util', function () {\r\n    /**\r\n     * 重置表单状态\r\n     * @param form\r\n     * @returns {boolean}\r\n     */\r\n    this.resetFormValidateState = function (form) {\r\n        if (!form) return false;\r\n        form.$submitted = false;\r\n        angular.forEach(form, function (obj, key) {\r\n            if (key.substring(0, 1) !== '$' && form[key].$dirty) {\r\n                form[key].$dirty = false;\r\n                form[key].$pristine = true;\r\n            }\r\n        });\r\n    };\r\n});\r\n"]}