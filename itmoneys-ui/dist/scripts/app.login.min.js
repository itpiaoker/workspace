"use strict";var login=angular.module("login",["ngCookies"]);login.controller("LoginController",["$http","$scope","$cookies","$rootScope",function(o,e,r,n){var t=this;r.remove("TOKEN"),r.remove("CURRENTUSER"),r.remove("CURRENTUSERID"),t.login=function(){o({url:"/sign-in",method:"POST",data:{ucode:t.username,password:t.password}}).then(function(o){var e=o.data;e.result?(r.put("TOKEN",e.data.token),r.put("CURRENTUSER",e.data.user.name),window.location.replace("/index.html")):e.code&&1==e.code?t.error=e.msg+",请联系管理员!":t.error="用户名或密码错误!"},function(o){t.error="服务器错误,请联系管理员!",console.log(o)})}}]);